import{_ as h,x as v,g as b,a as n,o as x,i as L,b as o,w as e,f as i,e as k}from"./entry-2b941c5d.mjs";import{u as y}from"./fetch-e279150a.mjs";import{u as V}from"./cookie-72a35f76.mjs";const I={__name:"login",setup(m,{expose:t}){t(),v({bodyAttrs:{class:"login"}});const a=b({pkuId:"",password:""}),d={formLogin:a,onLogin:async()=>{console.log(a);const{data:r}=await y("http://kavli.pku.edu.cn:8888/login",{method:"post",body:a});if(console.log(r.value),r.value.result==!0){const s=V("userInfo");s.value=r.value.userInfo,s.value.role=="admin"?window.location.href="/admin":window.location.href="/user"}}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},A=i("img",{src:"/img/login-icon.png",class:"image"},null,-1),C=i("div",{class:"title"},[i("h3",null,"KIAA Travel Application System")],-1),B={class:"login-button"},N=k("Login");function P(m,t,a,l,d,r){const s=n("el-row"),_=n("el-input"),c=n("el-form-item"),p=n("el-button"),f=n("el-form"),g=n("el-card"),w=n("el-col");return x(),L("div",null,[o(s,{style:{height:"20vh"}}),o(s,null,{default:e(()=>[o(w,{span:6,offset:16},{default:e(()=>[o(g,{class:"box-card"},{default:e(()=>[A,C,o(f,{"label-position":"top","label-width":"100px",model:l.formLogin,style:{"max-width":"460px"}},{default:e(()=>[o(c,null,{default:e(()=>[o(_,{modelValue:l.formLogin.pkuId,"onUpdate:modelValue":t[0]||(t[0]=u=>l.formLogin.pkuId=u),placeholder:"PKU ID"},null,8,["modelValue"])]),_:1}),o(c,null,{default:e(()=>[o(_,{modelValue:l.formLogin.password,"onUpdate:modelValue":t[1]||(t[1]=u=>l.formLogin.password=u),placeholder:"Password",type:"password"},null,8,["modelValue"])]),_:1}),i("div",B,[o(c,null,{default:e(()=>[o(p,{size:"large",onClick:l.onLogin,style:{width:"360px"}},{default:e(()=>[N]),_:1})]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}var T=h(I,[["render",P]]);export{T as default};
